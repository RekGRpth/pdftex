% $Id$
% Public domain.
% Test encoding files with bitmap (i.e., Type 3) fonts.
% See thread starting here:
%   http://tug.org/pipermail/pdftex/2016-July/009064.html
% and continuing here:
%   http://tug.org/pipermail/pdftex/2016-August/009065.html
%
% For comparison, the PDF made before the patch was applied is saved
% here as prepatch.pdf.
% 
% The default PK resolution is 72, so we made cmb10.72pk in this directory.
% (mf-nowin '\mode:=mactrue; input cmb10' && gftopk cmb10.72gf)
% (mf-nowin '\mode:=mactrue; input cmr10' && gftopk cmr10.72gf)
%
\pdfoutput=1 \catcode`\{=1 \catcode`\}=2 \hsize=4pc \parfillskip=0pt plus1fil
\pdfcompresslevel=0 \pdfobjcompresslevel=0

\pdfglyphtounicode{ffi}{0066 0066 0069} %no need for all: \input glyphtounicode
\pdfgentounicode=1

\pdfmapline{cmr10}% type3 map without encoding
\font\cmr=cmr10 \noindent \cmr ffi

\pdfmapline{cmb10 <7t.enc}% type3 map with encoding
\font\cmb=cmb10 \noindent \cmb ffi

% other assorted syntaxes, all but first should cause warnings.
\pdfmapline{}
\pdfmapline{<}
\pdfmapline{cmb10x1<}
\pdfmapline{cmb10x2 <}
\pdfmapline{cmb10x3 < }

\end
